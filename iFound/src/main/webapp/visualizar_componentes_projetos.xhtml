<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                template="#{layoutMB.template}"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html">


    <ui:param name="renderBreadCrumb" value="false"/>

    <ui:define name="title">
        <SCRIPT type="text/javascript">
            function aparecer() {
                document.getElementById("formulario").style.display = "inline";
            }
            function desaparecer() {
                document.getElementById("formulario").style.display = "none";
            }
        </SCRIPT>
        <h:body class="hold-transition skin-blue sidebar-mini">
            <div class="content-wrapper content">
                <h:form>
                    <div id="formulario" style="display: none;">
                        <p:panelGrid columns="2" style="margin: auto; min-height:  100%; min-width: 100%;">
                            <p:outputLabel value="#{bundle.CreateComponentesProjetosLabel_quantidade}" for="quantidade" />
                            <p:inputText id="quantidade" value="#{componentesProjetosController.selected.quantidade}" title="#{bundle.CreateComponentesProjetosTitle_quantidade}" />
                            <p:outputLabel value="#{bundle.CreateComponentesProjetosLabel_observacao}" for="observacao" />
                            <p:inputText id="observacao" value="#{componentesProjetosController.selected.observacao}" title="#{bundle.CreateComponentesProjetosTitle_observacao}" />
                            <p:outputLabel value="#{bundle.CreateComponentesProjetosLabel_idComponentes}" for="idComponentes" />
                            <p:selectOneMenu id="idComponentes" value="#{componentesProjetosController.selected.idComponentes}" title="#{bundle.CreateComponentesProjetosTitle_idComponentes}" >
                                <f:selectItems value="#{componentesController.itemsAvailableSelectOne}"/>
                            </p:selectOneMenu>
                            <p:outputLabel value="#{bundle.CreateComponentesProjetosLabel_idProjeto}" for="idProjeto" />
                            <p:selectOneMenu id="idProjeto" value="#{componentesProjetosController.selected.idProjeto}" title="#{bundle.CreateComponentesProjetosTitle_idProjeto}" >
                                <f:selectItems value="#{projetoController.itemsAvailableSelectOne}"/>
                            </p:selectOneMenu>
                        </p:panelGrid>
                        <br/>
                        <p:commandButton styleClass="btn btn-warning btn-block" action="#{componentesProjetosController.update}" oncomplete="desaparecer()"
                                         value="Atualizar dados" update="@all"/>
                        <br/>

                    </div>
                    <p:dataTable value="#{componentesProjetosController.items}" var="item" paginator="true" rows="15" style="font-size: 14px; text-align: center;">
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="#{bundle.ListComponentesProjetosTitle_idComponentes}"/>
                            </f:facet>
                            <h:outputText value="#{item.idComponentes.nome}"/>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="#{bundle.ListComponentesProjetosTitle_quantidade}"/>
                            </f:facet>
                            <h:outputText value="#{item.quantidade}"/>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="#{bundle.ListComponentesProjetosTitle_observacao}"/>
                            </f:facet>
                            <h:outputText value="#{item.observacao}"/>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="#{bundle.ListComponentesProjetosTitle_idProjeto}"/>
                            </f:facet>
                            <h:outputText value="#{item.idProjeto.foto}"/>
                        </p:column>
                        <p:column>
                            <p:commandButton styleClass="btn btn-warning btn-block" action="#{componentesProjetosController.prepareEdit}" oncomplete="aparecer()"
                                             value="Editar" update="@all"/>
                            <p:commandButton styleClass="btn btn-danger btn-block" action="#{componentesProjetosController.destroy}"
                                             value="Excluir" update="@all"/>
                        </p:column>
                    </p:dataTable>



                </h:form>
            </div>
        </h:body>
    </ui:define>


</ui:composition>
